<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Quiz & Flash Card</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
        }
        .option {
            padding: 10px;
            margin: 5px;
            background-color: #007bff;
            color: white;
            border: 1px solid #ddd;
            cursor: pointer;
            min-width: 100px;
            text-align: center;
        }
        .option:hover {
            background-color: #28a745;
            color: white;
        }
        #score-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 10px;
        }
        .flashcard {
            border: 2px solid #000;
            padding: 20px;
            margin: 20px auto;
            width: 90%;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 48px;
            font-weight: bold;
            background-color: #f9f9f9;
            color: #000;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }
        .hidden {
            display: none;
        }
        .highlighted-word {
            font-size: 48px;
            font-weight: bold;
            color: #000;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
            margin-top: 30px;
            margin-bottom: 30px;
        }
        #incorrect-words {
            border: 1px solid #ddd;
            margin: 20px auto;
            padding: 10px;
            width: 90%;
            height: 100px;
            overflow-y: auto;
            text-align: left;
            font-size: 14px;
        }
        .level-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        .level-buttons button {
            padding: 10px 15px;
            margin: 10px 5px;
            background-color: #f0f0f0;
            color: black;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        .level-buttons button:hover {
            background-color: #e0e0e0;
        }
        button {
            padding: 10px 15px;
            margin: 10px 5px;
            background-color: #f0f0f0;
            color: black;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            cursor: pointer;
        }
        button:hover {
            background-color: #e0e0e0;
        }
    </style>
</head>
<body>
    <div class="level-buttons">
        <button onclick="window.open('https://ihsancetin.com.tr/html/A1words.html', '_blank')">A1</button>
        <button onclick="window.open('https://ihsancetin.com.tr/html/A2words.html', '_blank')">A2</button>
        <button onclick="window.open('https://ihsancetin.com.tr/html/B1words.html', '_blank')">B1</button>
        <button onclick="window.open('https://ihsancetin.com.tr/html/B2words.html', '_blank')">B2</button>
        <button onclick="window.open('https://ihsancetin.com.tr/html/C1words.html', '_blank')">C1</button>
        <button onclick="window.open('https://ihsancetin.com.tr/words', '_blank')">Main</button>
    </div>

    <button id="switch-mode">Switch to Flash Card Mode</button>

    <div id="quiz-container">
        <h1 style="color: gray; font-weight: normal;">Word Quiz</h1>
        <div id="score-container">
            <div id="quiz-true-score">True: 0</div>
            <div id="quiz-false-score">False: 0</div>
        </div>
        <div id="question">...</div>
        <div id="highlighted-word" class="highlighted-word">...</div>
        <div id="options" class="options"></div>
        <div id="incorrect-words"></div>
    </div>

    <div id="flashcard-container" class="hidden">
        <h1 style="color: gray; font-weight: normal;">Flash Card</h1>
        <div id="score-container">
            <div id="flash-true-score">True: 0</div>
            <div id="flash-false-score">False: 0</div>
        </div>
        <div class="flashcard" id="flashcard"></div>
        <button id="mark-true">Correct</button>
        <button id="mark-false">Incorrect</button>
        <button id="next-card">Next Card</button>
        <div id="incorrect-words"></div>
    </div>

    <script>
        const words = [
            ["car", "araba"],
            ["apple", "elma"],
            ["plane", "uçak"],
            ["snake", "yılan"],
            ["a", "(det)_bir"],
            ["about", "(adv)_hakkında"],
            ["above", "(adv)_yukarıda"],
            ["at", "(prep)_-de_-deki_-e_-a"],
        ];

        let shuffledWords = shuffleArray([...words]);
        let currentWordIndex = 0;
        let trueScore = 0;
        let falseScore = 0;
        let isFlashCardMode = false;
        let isFrontSide = true; // Track the state of the flashcard
        const incorrectWords = new Set(); // To store incorrect words

        const quizContainer = document.getElementById('quiz-container');
        const flashcardContainer = document.getElementById('flashcard-container');
        const switchModeButton = document.getElementById('switch-mode');
        const questionEl = document.getElementById('question');
        const optionsEl = document.getElementById('options');
        const highlightedWordEl = document.getElementById('highlighted-word');
        const flashcardEl = document.getElementById('flashcard');
        const quizTrueScoreEl = document.getElementById('quiz-true-score');
        const quizFalseScoreEl = document.getElementById('quiz-false-score');
        const flashTrueScoreEl = document.getElementById('flash-true-score');
        const flashFalseScoreEl = document.getElementById('flash-false-score');
        const markTrueButton = document.getElementById('mark-true');
        const markFalseButton = document.getElementById('mark-false');
        const nextCardButton = document.getElementById('next-card');
        const incorrectWordsEl = document.querySelectorAll('#incorrect-words');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function setupQuiz() {
            const [englishWord, correctTurkishWord] = shuffledWords[currentWordIndex];

            questionEl.textContent = `What is the Turkish word for "${englishWord}"?`;
            highlightedWordEl.textContent = englishWord;

            const options = shuffleArray(
                shuffledWords
                    .map(word => word[1])
                    .filter(turkish => turkish !== correctTurkishWord)
                    .slice(0, 3)
                    .concat(correctTurkishWord)
            );

            optionsEl.innerHTML = '';

            options.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('option');
                button.addEventListener('click', () => checkAnswer(option));
                optionsEl.appendChild(button);
            });

            updateScore();
        }

        function checkAnswer(selectedAnswer) {
            const [englishWord, correctTurkishWord] = shuffledWords[currentWordIndex];
            if (selectedAnswer === correctTurkishWord) {
                trueScore++;
            } else {
                falseScore++;
                incorrectWords.add(englishWord);
                updateIncorrectWords();
            }
            nextWord();
        }

        function setupFlashcard() {
            const [englishWord, correctTurkishWord] = shuffledWords[currentWordIndex];
            flashcardEl.textContent = englishWord;
            flashcardEl.dataset.answer = correctTurkishWord;
            isFrontSide = true; // Reset to front side when loading a new card
        }

        flashcardEl.addEventListener('click', () => {
            const [englishWord, correctTurkishWord] = shuffledWords[currentWordIndex];
            if (isFrontSide) {
                flashcardEl.innerHTML = correctTurkishWord.split('_').join('<br>');
            } else {
                flashcardEl.textContent = englishWord;
            }
            isFrontSide = !isFrontSide; // Toggle the side
        });

        markTrueButton.addEventListener('click', () => {
            trueScore++;
            updateScore();
            nextWord();
        });

        markFalseButton.addEventListener('click', () => {
            const [englishWord] = shuffledWords[currentWordIndex];
            falseScore++;
            incorrectWords.add(englishWord);
            updateIncorrectWords();
            updateScore();
            nextWord();
        });

        nextCardButton.addEventListener('click', nextWord);

        function nextWord() {
            currentWordIndex = (currentWordIndex + 1) % shuffledWords.length;
            if (isFlashCardMode) {
                setupFlashcard();
            } else {
                setupQuiz();
            }
        }

        function updateScore() {
            quizTrueScoreEl.textContent = `True: ${trueScore}`;
            quizFalseScoreEl.textContent = `False: ${falseScore}`;
            flashTrueScoreEl.textContent = `True: ${trueScore}`;
            flashFalseScoreEl.textContent = `False: ${falseScore}`;
        }

        function updateIncorrectWords() {
            incorrectWordsEl.forEach(element => {
                element.innerHTML = Array.from(incorrectWords).join('<br>');
            });
        }

        switchModeButton.addEventListener('click', () => {
            isFlashCardMode = !isFlashCardMode;
            if (isFlashCardMode) {
                quizContainer.classList.add('hidden');
                flashcardContainer.classList.remove('hidden');
                setupFlashcard();
                switchModeButton.textContent = 'Switch to Quiz Mode';
            } else {
                flashcardContainer.classList.add('hidden');
                quizContainer.classList.remove('hidden');
                setupQuiz();
                switchModeButton.textContent = 'Switch to Flash Card Mode';
            }
            updateScore();
            updateIncorrectWords();
        });

        setupQuiz();
    </script>
</body>
</html>
